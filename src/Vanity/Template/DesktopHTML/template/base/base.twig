<!DOCTYPE html>
<html>
	<head>
		{# Standard page metadata #}
		<meta charset="{{ _charset }}">
		<meta http-equiv="X-UA-Compatible" content="Chrome=1; IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>{{ vanity.page_title }} - {{ vanity.project_with_version }}</title>

		{# Stylesheets #}
		<link rel="stylesheet" href="{{ vanity.base_path }}/bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="{{ vanity.base_path }}/styles/app.css">
		<link rel="stylesheet" href="{{ vanity.base_path }}/bootstrap/css/bootstrap-responsive.min.css">
		<link rel="stylesheet" href="{{ vanity.base_path }}/prettify/prettify.css">
	</head>

	<body data-spy="scroll" data-target="#navTracker" data-offset="100">

		{# Primary navigation #}
		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">

					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>

					<a href="" class="brand">{{ vanity.project }}</a>
 					<div class="nav-collapse">
						<ul class="nav">
							<li class="active"><a href="{{ vanity.link.api_reference }}/">API Reference</a></li>
							<li><a href="{{ vanity.link.user_guide }}/">User Guide</a></li>
						</ul>

						<form class="navbar-search pull-right">
							<input type="text" class="search-query" placeholder="Search">
						</form>
 					</div>

				</div>
			</div>
		</div>

		<div id="description" class="container">

			{# Show the breadcrumbs #}
			<div class="row">
				<div class="span12">
					<ul class="breadcrumb">
						<li><i class="icon-map-marker"></i> </li>
						<li><a href="{{ vanity.link.api_reference }}/">API Reference</a> <span class="divider">\</span></li>
						{% for breadcrumb in vanity.breadcrumbs %}
							{% if breadcrumb.path %}
								<li><a href="{{ breadcrumb.path }}">{{ breadcrumb.name }}</a> <span class="divider">\</span></li>
							{% else %}
								<li class="active">{{ breadcrumb.name }}</li>
							{% endif %}
						{% endfor %}
					</ul>
				</div>
			</div>

			<div class="row">

				{# Yield to an extending template #}
				{% block yield %}{% endblock %}

			</div>
		</div>

		<p class="footnote" align="center">
			{% block footer %}{% endblock %}
		</p>
		<div id="bottom-spacer"></div>

		{# Scripts #}
		<script src="{{ vanity.base_path }}/jquery/jquery.1.7.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="{{ vanity.base_path }}/jquery/jquery.easing.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="{{ vanity.base_path }}/bootstrap/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="{{ vanity.base_path }}/prettify/prettify.js" type="text/javascript" charset="utf-8"></script>

		<script type="text/javascript">

		$(function() {

			prettyPrint();
			$('#nav-list').scrollspy();
			$('#bottom-spacer').height($(window).height());

			var top = $('#navTracker').offset().top - 77;

			$(window).scroll(function(event) {

				// what the y position of the scroll is
				var y = $(this).scrollTop();

				// whether that's below the form
				if (y >= top) {

					// if so, ad the fixed class
					$('#navTracker').addClass('fixed');
				}
				else {

					// otherwise remove it
					$('#navTracker').removeClass('fixed');
				}
			});

			$('#navTracker a').click(function(evt) {
				evt.preventDefault();

				var $node = $(this).attr('href'),
				    scrollTo = $($node).offset().top - 62;

				if ($.browser.webkit) {
					$('body').stop().animate({
						scrollTop: scrollTo
					}, 600, 'easeInOutCubic');
				}
				else {
					$('html').stop().animate({
						scrollTop: scrollTo
					}, 600, 'easeInOutExpo');
				}

				history.pushState({}, null, $node);
			});
		});

		</script>
	</body>
</html>

